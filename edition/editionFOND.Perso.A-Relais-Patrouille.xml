<?xml version="1.0" encoding="UTF-8"?>
<!-- Menu Editions Activité "FOND, ROL " Discipline Relais / patrouille / team-sprint !-->
<!-- version="2.3" !-->
<edition>
	<menu>
		<menu title="Outils " image="./res/32x32_snow_esf.png">	
			<menu title="Remplacement de Code_comité par le libéllé comité" image="./res/16x16_text.png" lua="./edition/Label_equipe.lua"  />
		</menu>
		
		<menu title="Edition Participants" image="./res/32x32_juges.png" bold="false" cond ="($(Epreuve.Code_discipline)='RELAIS')">
			<menu title="Equipe Alpha (1-a) Officielle" image="./res/16x16_official.png" id="Lst_Relais" Officiel="1" first_header="1" orderby="Nom" DossardRelais="Lettre"/>
			<menu title="Equipe Alpha (1-a) Officieuse" image="./res/16x16_official.png" id="Lst_Relais" Officiel="0" first_header="0" orderby="Nom" DossardRelais="Lettre"/>
			<menu title="Equipe Alpha (1/²) Officieuse" image="./res/16x16_official.png" id="Lst_Relais" Officiel="0" first_header="0" orderby="Nom" DossardRelais="Numeric"/>
		</menu>
		
		<menu title="Edition Liste de Départ" image="./res/32x32_bib.png" bold="false" cond ="($(Epreuve.Code_discipline)='RELAIS')">
			<menu title="Relais (1-a) Officielle" image="./res/16x16_official.png" id="Lst_Relais" Officiel="1" first_header="1" orderby="Dossard" DossardRelais="Lettre"/>
			<menu title="Relais (1-a) Officieuse" image="./res/16x16_official.png" id="Lst_Relais" Officiel="0" first_header="0" orderby="Dossard" DossardRelais="Lettre"/>
			<menu title="Relais (1/²) Officieuse" image="./res/16x16_official.png" id="Lst_Relais" Officiel="0" first_header="0" orderby="Dossard" DossardRelais="Numeric"/>
		</menu>
		
		<menu title="Résultats Relais" image="./res/32x32_ranking.png" bold="false" cond ="($(Epreuve.Code_discipline)='RELAIS')">
			<menu title="Provisoires (1-a)" image="./res/16x16_official.png" id="res_Relais" Officiel="-1" first_header="0" DossardRelais="Lettre" mode_lap="1" />
			<menu title="Officieux (1-a)" image="./res/16x16_official.png" id="res_Relais" Officiel="0" first_header="0" DossardRelais="Lettre" mode_lap="1" />
			<menu title="Officiels(1-a)" image="./res/16x16_official.png" id="res_Relais" Officiel="1" first_header="1" DossardRelais="Lettre" mode_lap="1" />
			<menu title="Officieux (1/²)" image="./res/16x16_official.png" id="res_Relais" Officiel="0" first_header="0" DossardRelais="Numeric" mode_lap="1" />
			<menu title="Officiels (1/²)" image="./res/16x16_official.png" id="res_Relais" Officiel="1" first_header="1" DossardRelais="Numeric" mode_lap="1" />

		</menu>
		
		<menu title="Résultats Patrouille" image="./res/32x32_ranking.png" bold="false" cond ="($(Epreuve.Code_discipline)='RELAIS')">
			<menu title="Provisoires (1-a)" image="./res/16x16_official.png" id="res_Patr" Officiel="-1" first_header="0" DossardRelais="Lettre" />
			<menu title="Officieux (1-a)" image="./res/16x16_official.png" id="res_Patr" Officiel="0" first_header="0" DossardRelais="Lettre" />
			<menu title="Officiels (1-a)" image="./res/16x16_official.png" id="res_Patr" Officiel="1" first_header="1" DossardRelais="Lettre" />	
			<menu title="Officieux (1/²)" image="./res/16x16_official.png" id="res_Patr" Officiel="0" first_header="0" DossardRelais="Numeric" />	
			<menu title="Officiels (1/²)" image="./res/16x16_official.png" id="res_Patr" Officiel="1" first_header="1" DossardRelais="Numeric" />
			<!-- <menu title="Résultats Tours (1-a)" image="./res/16x16_official.png" id="res_Patr" DossardRelais="Lettre" /> -->
		</menu>	
		
		<menu title="Gestion des Team-Sprint " image="./res/32x32_snow_esf.png">
			<menu title="Génération des Heure de Départ des 2ème Equipiers" image="./res/16x16_text.png" lua="./edition/TEAM-SP_M2.lua"  filter="after" />
			<menu title="Liste de départ des 2éme équipiers" image="./res/16x16_juges.png" id="H_dept_M2" Officiel="0" first_header="0" />
			<!-- <menu title="Résultats Relais - Equipier Paysage" image="./res/16x16_juges.png" id="res_relais_equipier" choix_manche="1" mode_lap="1" first_header="0" /> -->
			<menu title="Edition des Qualifiés Team-Sprint" image="./res/16x16_bib.png" id="res_qualif_TeamSprint" qualif_critere="1" />
			<menu title="Ré-édition des Qualifiés Team-Sprint sans calcul" image="./res/16x16_bib.png" id="res_qualif_TeamSprint" qualif_critere="0" />
			<menu title="Edition Finales Team-Sprint" image="./res/16x16_bib.png" id="res_TeamSprint" />
			<!-- <menu title="Tours (1-a)" image="./res/16x16_official.png" id="res_Tour" DossardRelais="Lettre" /> -->
		</menu>
	</menu>
	
	<!-- header standard !-->
	<header>
		<spacing all="0"/>
		<background mode="transparent"/>
		<font name="Calibri" size="14" adjust="max" weight="bold"/>
		<lua>
			dofile('./edition/functionNordique.lua');
			entite = $(Evenement.Code_entite);
			discipline = $(Epreuve.Code_discipline);
			Regroupement = $(Epreuve.Code_regroupement);
			type_edition = id:sub(1,4);
			Officiel = tonumber(params.Officiel);
			GetTitre(type_edition, Officiel, discipline);
			flagQrCode = 0;
			if params ~= nil and params.Qrcode ~= nil then flagQrCode = params.Qrcode end
		</lua>		
		<text row="auto" col="1" align="center">$(Evenement.Nom)</text>
		<text row="auto" align="center">$(Discipline.Libelle)</text>
		<text row="auto" align="center" cond="params.code_epreuve ~= -1">$(Categorie{$(Epreuve.Code_categorie)}.Libelle)..' - '..$(Sexe{$(Epreuve.Sexe)}.Libelle)</text>
		<text row="auto" align="center" >Titre</text>
		<row h="0.5cm"/>
		<matrix row_start="-3" row_end="0" col_start="10" col_end="0">
			<row h="1.5cm" />
			<col w="1, 1.5cm" />
			<qrcode adjust="best" col_start="2" cond="tonumber(params.Qrcode)==1 and entite=='FFS' ">'https://live.ffs.fr/live_timing/live_cc.php?codex='..$(Epreuve.Fichier_transfert)</qrcode>
			<qrcode adjust="best" col_start="2" cond="tonumber(params.Qrcode)==1 and entite=='FIS' and $(Evenement.Commentaire_live):len() &gt; 0">'live.fis-ski.com/lv-al'..string.sub($(Epreuve.Fichier_transfert),4)..'.htm#/short'</qrcode>
		</matrix>
		<!-- affichage de la ligne d'heure de départ en massstart ou fond pop si pas de first header -->
		<lua>if type_edition == 'lst_' and first_header == '0' and discipline:In('MASS', 'POURS', 'POURS-D', 'FP') and $(Epreuve.Heure_depart):len() &gt; 0 then</lua>
		<call option="Ligne_H_depart" cond="editor:GetPageCurrent() == 1" file="./edition/options.xml"/>
		<lua>end</lua>
		<!-- affichage du Compteur des classés si c'est un resultat (id commence par 'res_' et si le first header n'est pas actif) -->
		<lua>if type_edition == 'res_' and first_header == '0' then</lua>
			<call option="stat_ranking" cond="editor:GetPageCurrent() == 1" file="./edition/options.xml"/>
		<lua>else </lua>
		<row value="0.4cm" />
		<lua>end </lua>
	</header>
		
	<!-- first_header standard !-->
	<first_header >
		<background mode="transparent"/>
		<font name="Calibri" size="9" adjust="best" weight="normal"/>
		<pen border="none" />
		<call option="identiteOfficiel" file="./edition/options.xml"/>
		<lua>type_edition = id:sub(1,4)</lua>
		<lua>entite = $(Evenement.Code_entite)</lua>
		<lua>discipline = $(Epreuve.Code_discipline)</lua>
		<col w="6,5,1, 0.2cm,4,4,1, 0.2cm,4,4,1" />

		<row h="auto" />
		<text col_start="1" col_end="3" align="center" underlined="1" font_size_step="1" font_weight="bold">'JURY DE COMPETITION'</text>
		<text col_start="5" col_end="7" align="center" underlined="1" font_size_step="1" font_weight="bold">'CARACTERISTIQUES DE LA PISTE'</text>
		<text col_start="9" col_end="11" align="center" underlined="1" font_size_step="1" font_weight="bold">'RENSEIGNEMENTS'</text>
		<row h="0.1cm" />

		<row h="auto" />
		<text col_start="1" align="left">'DELEGUE TECHNIQUE '..entite..':'</text>
		<text col_start="2" col_end="3" align="left">GetIdentiteOfficiels('TechnicalDelegate')</text>
		<text col_start="5" align="left" >'Nom du Site :'</text>
		<text col_start="6" align="left" >$(Epreuve_Nordique.Piste)</text>
		<text col_start="9" align="left">'Lieu :'</text>
		<text col_start="10" col_end="0" align="right" >$(Epreuve_Nordique.Lieu)</text>
	
		<row h="auto" />
		<text col_start="1" align="left">'DT Adjoint :'</text>
		<text col_start="2" col_end="3" align="left">GetIdentiteOfficiels('TECHNICALDELEGATEASSISTANT')</text>
		<text col_start="5" align="left" >'Point Haut :'</text>
		<text col_start="6" align="left" >$(Epreuve.Point_haut)</text>
		<text col_start="9" align="left">'Categorie :'</text>
		<text col_start="10" col_end="0" align="right" >$(Categorie{$(Epreuve.Code_categorie)}.Libelle)</text>

		<row h="auto" />
		<text col_start="1" align="left">'DIRECTEUR D\'EPREUVE :'</text>
		<text col_start="2" col_end="3" align="left">GetIdentiteOfficiels('RACEDIRECTOR')</text>
		<text col_start="5" align="left" >'Point Bas :'</text>
		<text col_start="6" align="left" >$(Epreuve.Point_bas)</text>
		<text col_start="9" align="left">'Sexe :'</text>
		<text col_start="10" col_end="0" align="right" >$(Sexe{$(Epreuve.Sexe)}.Libelle)</text>
		
		<row h="auto" />
		<text col_start="1" align="left">'CHEF DE PISTE :'</text>
		<text col_start="2" col_end="3" align="left">GetIdentiteOfficiels('ChiefCompetition')</text>
		<text col_start="5" align="left" >'Montée maxi. :'</text>
		<text col_start="6" align="left" >$(Epreuve.Montee_maxi)</text>
		<text col_start="9" align="left">'Distance épreuve :'</text>
		<text col_start="10" col_end="0" align="right" >$(Epreuve.Distance):Suffix(' Km')</text>
		
		<row h="auto" />
		<text col_start="1" align="left">'COORDONNATEUR- '..entite..':'</text>
		<text col_start="2" align="left">GetIdentiteOfficiels('COORDINATOR')</text>
		<text col_start="5" align="left" >'Montée Totale. :'</text>
		<text col_start="6" align="left" >$(Epreuve.Montee_tot)</text>
		<text col_start="9" align="left">'Style :'</text>
		<lua>
			if $(Epreuve.Style) == 'L' then Style = 'Libre' 
			elseif $(Epreuve.Style) == 'C' then Style = 'Classique' 
			elseif $(Epreuve.Style) == 'C+L' then Style = 'Classique + Libre' 
			elseif $(Epreuve.Style) == 'L+C' then Style = 'Libre + Classique' end 
		</lua>
		<text col_start="10" col_end="0" align="right" >Style</text>
		
		<!-- mise en place de ligne verticale -->
		<line col_start="4" row_start="-5" row_end="0" pen_color="dkgray" border="mid_vert" />
		<line col_start="8" row_start="-5" row_end="0" pen_color="dkgray" border="mid_vert" />
		
		<row h="auto" />
		<lua>
			tClub = base:GetTable('Club')
			base:TableLoad(tClub, "Select * From Club Where Nom_reduit = '"..$(Evenement.Club):EscapeQuote().."'")
		</lua>
		<text col_start="1" col_end="4" align="left">'Club organisateur : '..$(Club.Nom_complet)</text>
		<text col_start="6" col_end="10" align="left" >'Organisateur : '..$(Evenement.Organisateur) </text>
		<!-- retour a la ligne de 0.1cm		 -->
		<row h="0.2cm" />
		<row value="auto" />
		<line col_start="1" col_end="0" pen_color="dkgray" border="top" />
		<row h="auto" />
		<text col_start="1" align="left">'Météo : '..$(Epreuve_Nordique.Meteo)</text>
		<text col_start="2" align="left">'Liste : '..$(Evenement.Code_liste)</text>
		<text col_start="5" col_end="6" align="left" >'Codex Epreuve : '..$(Epreuve.Fichier_transfert) </text>
		<text col_start="8" col_end="9" align="left" >'Coéficient F : '..$(Discipline.Facteur_f)</text>
		<text col_start="10" align="left" cond="params.title=='Officiels'" >'Penalité : '..$(Epreuve.Penalite_appliquee)</text>

		<!-- affichage de la ligne d'heure de départ en massstart ou fond pop -->
		<lua>if type_edition == 'lst_' and discipline:In('MASS','POURS-D', 'FP') and $(Epreuve.Heure_depart):len() &gt; 0 then</lua>
		<call option="Ligne_H_depart" cond="editor:GetPageCurrent() == 1 and $(Epreuve.Heure_depart) ~= nil" file="./edition/options.xml"/>
		<!-- affichage du Compteur des classés si c'est un resultat -->
		<lua>elseif type_edition == 'res_' then</lua>
			<call option="stat_ranking" cond="editor:GetPageCurrent() == 1" file="./edition/options.xml"/>
		<lua>else </lua>
		<row value="0.4cm" />
		<lua>end </lua>

	</first_header>
	
	<!-- footer standard !-->
	<footer>
		<background mode="transparent"/>
		<font name="Calibri" size="8" adjust="best" weight="normal"/>
		<pen border="none" />

		<lua>entite = entite or $(Evenement.Code_entite)</lua>
		<lua>info = $(Epreuve.Date_epreuve,'%2D/%2M/%4Y')..' / '..$(Evenement.Station)..' ('</lua>
		<lua cond="entite=='FIS'">info = info..$(Evenement.Code_nation)..'-'</lua>
		<lua>info = info..$(Evenement.Code_comite).. ') / '..$(Evenement.Organisateur)</lua>
		<text row="auto" col="1" align="left">info</text>
		<text align="right" font_weight="bold" cond="entite=='FIS'">$(Epreuve.Fichier_transfert_int)..' (Liste n°'..$(Evenement.Code_liste)..')'</text>
		<text align="right" font_weight="bold" cond="entite=='FFS'">$(Epreuve.Fichier_transfert)..' (Liste n°'..$(Evenement.Code_liste)..')'</text>
		<line col_start="1" col_end="0" pen_size="2" pen_color="dkgray" border="bottom"/>
		<!-- <text row="auto" align="left"><pen border="top" />app.GetName()..' Version '..app.GetVersion()..' (FFS - ESF - Agil Informatique) - '..os.date('Edité le %d-%m-%Y à %H:%M:%S')</text> -->
		
		<row h="auto" />
		<matrix col_start="1">
			<row h="auto"/>
			<text col="auto" align="left">app.GetName()..' Version '..app.GetVersion()..' / FFS'</text>
			<image col="0.4cm" adjust="width" align="left">'./res/32x32_ffs.png'</image>
			<text col="auto" align="left" adjust="width">' / ESF'</text>
			<image col="0.4cm" adjust="width" align="left">'./res/32x32_esf.png'</image>
			<text col="auto" align="left">' / Agil Informatique'</text>
			<image col="0.4cm" adjust="width" align="left">'./res/32x32_agil.png'</image>
			<text col="auto" align="left">os.date(' / Edité le %d-%m-%Y à %H:%M:%S')</text>
		</matrix>	
		<text align="right">string.format('Page %d/%s',editor:GetPageCurrent(), editor:GetPageCountLabel())</text>
		<line col_start="1" col_end="0" border="top" />
		<text row="auto" align="left" cond="editor:GetPageCurrent() == 1">$(Evenement.Commentaire)</text>
	</footer>
	
	<!-- Edition Relais-->
	<!-- Liste de départ relais-->
	<report id="Lst_Relais" header="1" first_header="(params.first_header or '1')" >
		<order key="(params.orderby..', Dossard')" />
		<!-- <paper orientation="landscape" /> 
		dofile('./edition/functionNordique.lua');
		-->
		<lua>
			_context_border = true;
			entite = $(Evenement.Code_entite);
			discipline = $(Epreuve.Code_discipline);
			NbEquipiers = base:GetRecord('Epreuve'):GetInt('Nb_participants');
			app.GetAuiMessage():AddLine("NbEquipiers="..NbEquipiers);
			code_manche = manche or 1
		</lua>
		
		<label>
			<col w="2,8,4,6cm,1.6cm,3cm,1.5cm,3"/>
			<row h="auto" />
			<text col_start="1" col_end="3"  align="center"><background mode="solid" color="green" />EntiteEqu</text>
			<text col_start="4" col_end="7"  align="center"><background mode="solid" color="yellow" />EntiteRel</text>
			<text col_start="8" col_end="0"  align="center"><background mode="solid" color="green" /></text>
			<row h="auto" />
			<pen border="all" size="1" />
			<text col_start="1" align="center">'Dos'</text>
			<text col_start="2" align="center">'Nom - '..EntiteEqu</text>
			<text col_start="3" align="center">'Sexe'</text>
			<text col_start="4" align="left">'Dos - Identité'</text>
			<text col_start="5" align="center">'Categ.(S.)'</text>
			<text col_start="6" align="center">'Club (CS.)'</text>
			<text col_start="7" align="center">'Pts'</text>
			<text col_start="8" align="center"><background mode="solid" color="green" />'Pts.Equ.'</text>
			<row h="0.4cm"/>
		</label>
		
		<body>
			<call option="color_alternate" file="./edition/options.xml" />
			<call option="identite" file="./edition/options.xml"/>
			<font size="9" adjust="ellipsize"/>
			<spacing left="10" right="10" top="2" bottom="2" />
			
			<lua>for n=0,tonumber(NbEquipiers)-1 do</lua>
			<row h="0.5cm"/>
			<lua>end</lua>
			<col w="2,8,4,6cm,1.6cm,3cm,1.5cm,3" />
			<text row_start="1" row_end="0" col_start="1" align="right" >$(Dossard)</text>
			<text row_start="1" row_end="0" col_start="2" align="left" >$(Identite)</text> 
			<lua>
				if $(Sexe) == 'F' then 		
					SexeEquipe = 'Féminine';
				elseif $(Sexe) == 'M' then 		
					SexeEquipe = 'Masculine';
				elseif $(Sexe) == 'T' then 		
					SexeEquipe = 'Mixte';
				end
			</lua>
			<text row_start="1" row_end="0" col_start="3" align="center" >SexeEquipe</text>
			<lua>			
				for m=0, NbEquipiers-1 do
					if params.DossardRelais == 'Lettre' then
						LettreDossard = $(Dossard)..'-'..base:GetEquipier($(Code_coureur), m+1, 'Numero');
					else
						LettreDossard = $(Dossard)..'/'..m+1;
					end
			</lua>																
			<text row_start='(m+1)' col_start="4" align="left" >LettreDossard..' - '..base:GetEquipier($(Code_coureur), m+1, 'Nom')..' '..base:GetEquipier($(Code_coureur), m+1, 'Prenom'):sub(1,1):upper()..base:GetEquipier($(Code_coureur), m+1, 'Prenom'):sub(2):lower()</text>
			<text row_start='(m+1)' col_start="5" align="center" >base:GetEquipier($(Code_coureur), m+1, 'Categ')..' '..base:GetEquipier($(Code_coureur), m+1, 'Sexe'):Parenthesis()</text>
			<text row_start='(m+1)' col_start="6" align="center" >base:GetEquipier($(Code_coureur), m+1, 'Club')..' '..base:GetEquipier($(Code_coureur), m+1, 'Comite'):Parenthesis()</text>
			<text row_start='(m+1)' col_start="7" align="center" >base:GetEquipier($(Code_coureur), m+1, 'Point')</text>
			<lua>end</lua>  
			<text row_start="1" row_end="0" col_start="8" align="right" >$(Point)</text>
			<row h="0.6cm"/>
		</body>
	</report>	

	<!-- Resultat de relais-->
	<report id="res_Relais" title="Résultats Relais " header="1" first_header="(params.first_header or '1')" mode_lap="1" >
		<call option="identiteOfficiel" file="./edition/options.xml"/>
		<column name="Tps_status">chrono.Status(body:GetCellInt('Tps', row))</column>
		<rupture key="Tps_status">
			<before cond="$(Tps_status) ~= 'ok'">
				<font size="14"/>
				<lua>local status = $(Tps_status)</lua>
				<row h="0.5cm"/>
				<text row="auto" col="1" >ranking.Code(status)..' - '..ranking.Label(status)..' ('..body:GetCounterValue('Tps_status', status)..')'</text>
				<row h="0.2cm"/>
			</before>
		</rupture>
		<!-- <paper orientation="landscape" /> -->
		<lua>
			_context_border = true;
			entite = $(Evenement.Code_entite);
			discipline = $(Epreuve.Code_discipline);
			NbEquipiers = base:GetRecord('Epreuve'):GetInt('Nb_participants');
			app.GetAuiMessage():AddLine("NbEquipiers="..NbEquipiers);
			code_manche = manche or 1
		</lua>
		<order key="Tps, Dossard Desc" />

		<label>
			<col w="1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1"/>
			<pen border="all" size="1" />
			<row h="auto" />
			<text col_start="1" col_end="1" align="left" border="none" >'Clt'</text>
			<text col_start="2" col_end="2" align="left" border="none" >'Dos'</text>
			<text col_start="3" col_end="8" align="center" border="none" >'Nom - Equipe'</text>
			<text col_start="9" col_end="10" align="center" border="none" >'S. Relais'</text>
			<text col_start="11" col_end="12" align="center" border="none" ></text>
			<!-- <text col_start="11" col_end="12" align="center" border="none" >'Club  (CS.)'</text> -->
			<text col_start="13" col_end="21" align="center" border="none" ></text>
			<text col_start="22" col_end="23" align="right" border="none" >'Tps. Rel.'</text>
			<text col_start="24" col_end="26" align="right" border="none" >'Ecart. Rel.'</text>
			<row h="auto" />
			<text col_start="2" col_end="21" align="center"><background mode="solid" color="yellow" />'Relayeurs'</text>
			<text col_start="22" col_end="26" align="center"><background mode="solid" color="green" />'Relais'</text>
			<row h="auto" />
			<text col_start="2" col_end="8" align="left">'Dos - Code   Identité'</text>
			<text col_start="9" col_end="10" align="left">'Categ.(S.)'</text>
			<text col_start="11" col_end="15" align="left">'Club  (CS.)'</text>
			<text col_start="16" col_end="18" align="center">'Tps. (Clt.) '</text>
			<text col_start="19" col_end="21" align="center">'Ecart Relayeur'</text>
			<text col_start="22" col_end="24" align="center">'Tps.Cumul(Clt.) '</text>
			<text col_start="25" col_end="26" align="center">'Ecart(Clt.) '</text>
			<row h="0.4cm"/>
		</label>	

		<body>
			<call option="color_alternate" file="./edition/options.xml" />
			<call option="identite" file="./edition/options.xml"/>
			<font size="9" adjust="ellipsize"/>
			<spacing left="10" right="10" top="2" bottom="2" />
			<col w="1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1"/>
			<row h="0.6cm"/>
			<row h="0.1cm"/>
			<lua>for n=0,tonumber(NbEquipiers)-1 do</lua>
			<row h="0.5cm"/>
			<lua>end</lua>
			<lua>
				if $(Sexe) == 'F' then 		
					SexeEquipe = 'Féminine';
				elseif $(Sexe) == 'M' then 		
					SexeEquipe = 'Masculine';
				elseif $(Sexe) == 'T' then 		
					SexeEquipe = 'Mixte';
				end
				DossardRelais = params.DossardRelais;
			</lua>
			<text row_start="1" row_end="1" col_start="1" col_end="1" align="left" border="none" >$(Clt)</text>
			<text row_start="1" row_end="1" col_start="2" col_end="2" align="left" border="none" >$(Dossard)</text>
			<text row_start="1" row_end="1" col_start="3" col_end="8" align="left" border="none">$(Identite)</text> 
			<text row_start="1" row_end="1" col_start="9" col_end="10" align="center" border="" >SexeEquipe</text>
			<!-- <text row_start="1" row_end="1" col_start="11" col_end="12" align="center" label="CS." border="none" >$(Comite)</text> -->
			<text row_start="1" row_end="1" col_start="11" col_end="14" align="left" border="none" ></text>
			<!-- <text row_start="1" row_end="1" col_start="11" col_end="14" align="left" border="none" >$(Club).." "..$(Comite):Parenthesis()</text> -->
			<text row_start="1" row_end="1" col_start="15" col_end="21" align="center" border="" ></text>
			<text row_start="1" row_end="1" col_start="22" col_end="23" align="right" border="none" >$(Tps)</text>
			<text row_start="1" row_end="1" col_start="24" col_end="26" align="right" border="none" >$(Diff)</text>

			<text row_start="2" row_end="2" col_start="2" col_end="21" align="center"><background mode="solid" color="yellow" />''</text>
			<!-- <text row_start="2" row_end="2" col_start="4" col_end="14" align="center" border="none" >''</text> -->
			<lua>					
				for m=0, NbEquipiers-1 do
					DosNum = m+1;
					if DossardRelais == 'Lettre' then
			</lua>
						<text row_start='(m+3)' col_start="2" col_end="8" align="left" label="('Identité Relayeur '..m+1)">$(Dossard)..'-'..base:GetEquipier($(Code_coureur), m+1, 'Numero')..' - '..base:GetEquipier($(Code_coureur), m+1, 'Nom')..' '..base:GetEquipier($(Code_coureur), m+1, 'Prenom'):sub(1,1):upper()..base:GetEquipier($(Code_coureur), m+1, 'Prenom'):sub(2):lower()..' '..base:GetEquipier($(Code_coureur), m+1, 'Sexe'):Parenthesis()</text>			LettreDossard = $(Dossard)..'-'..base:GetEquipier($(Code_coureur), m+1, 'Numero');
				<lua>		
					else
				</lua>		
						<text row_start='(m+3)' col_start="2" col_end="8" align="left" label="('Identité Relayeur '..m+1)">$(Dossard)..'-'..DosNum..' - '..base:GetEquipier($(Code_coureur), m+1, 'Nom')..' '..base:GetEquipier($(Code_coureur), m+1, 'Prenom'):sub(1,1):upper()..base:GetEquipier($(Code_coureur), m+1, 'Prenom'):sub(2):lower()..' '..base:GetEquipier($(Code_coureur), m+1, 'Sexe'):Parenthesis()</text>
				<lua>
					end
				</lua>
					<text row_start='(m+3)' col_start="9" col_end="10"  align="left" label="('categ Relayeur '..m+1)">base:GetEquipier($(Code_coureur), m+1, 'Categ')..' '..base:GetEquipier($(Code_coureur), m+1, 'Sexe'):Parenthesis()</text>
					<text row_start='(m+3)' col_start="11" col_end="15" align="left" label="('club Relayeur '..m+1)">base:GetEquipier($(Code_coureur), m+1, 'Club')..' '..base:GetEquipier($(Code_coureur), m+1, 'Comite'):Parenthesis()</text>
					<text row_start='(m+3)' col_start="16" col_end="18" align="right" label="('club Relayeur '..m+1)">body:GetCell('Tps'..code_manche..'_lap'..m+1, row)..''..body:GetCell('Clt'..code_manche..'_lap'..m+1,row):Parenthesis()</text>
					<text row_start='(m+3)' col_start="19" col_end="21" align="right" label="('relayeurs Relayeur '..m+1)">body:GetCell('Diff'..code_manche..'_lap'..m+1,row)</text>
					<text row_start='(m+3)' col_start="22" col_end="24" align="right" label="('Relay '..m+1)">body:GetCell('Tps_cumul'..code_manche..'_lap'..m+1, row)..''..body:GetCell('Clt_cumul'..code_manche..'_lap'..m+1, row):Parenthesis()</text>
					<text row_start='(m+3)' col_start="25" col_end="26" align="right" label="('Tps cumul')">body:GetCell('Diff_cumul'..code_manche..'_lap'..m+1, row, '[P10]%-1h%-1m%2s.%1f')</text>
			<lua>
				end
			</lua>
			<row h="0.5cm"/>
		</body>
		
		<end cond="tonumber(params.Officiel)==1">
			<lua>sqlBase.FixationTableRanking(body)</lua>
			<call option="signature_dt" file="./edition/options.xml" />
		</end>
	</report>

	<!-- Resultat de Patrouille-->
	<report id="res_Patr" title="Résultats Patrouille " header="1" first_header="(params.first_header or '1')" mode_lap="1" >
		<lua>
			if tonumber(params.Officiel) == 1 then
				title = "Résultats Officiels "
			elseif	tonumber(params.Officiel) == 0 then
				title = "Résultats Officieux "
			else
				title = "Résultats Provisoires "
			end
		</lua>
		<column name="Tps_status">chrono.Status(body:GetCellInt('Tps', row))</column>
		<rupture key="Tps_status">
			<before cond="$(Tps_status) ~= 'ok'">
				<font size="14"/>
				<lua>local status = $(Tps_status)</lua>
				<row h="0.5cm"/>
				<text row="auto" col="1" >ranking.Code(status)..' - '..ranking.Label(status)..' ('..body:GetCounterValue('Tps_status', status)..')'</text>
				<row h="0.2cm"/>
			</before>
		</rupture>
		<!-- <paper orientation="landscape" /> -->
		<lua>
			_context_border = true;
			entite = $(Evenement.Code_entite);
			discipline = $(Epreuve.Code_discipline);
			NbEquipiers = base:GetRecord('Epreuve'):GetInt('Nb_participants');
			app.GetAuiMessage():AddLine("NbEquipiers="..NbEquipiers);
			code_manche = manche or 1
		</lua>
		<order key="Tps, Dossard Desc" />
		
		<label>
			<col w="1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1"/>
			<pen border="all" size="1" />
			<row h="auto" />
			<text col_start="1" col_end="1" align="left" border="none" >'Clt'</text>
			<text col_start="2" col_end="2" align="left" border="none" >'Dos'</text>
			<text col_start="3" col_end="8" align="center" border="none" >'Nom - Patrouille'</text>
			<text col_start="9" col_end="10" align="center" border="none" >'S. Patrouille'</text>
			<text col_start="11" col_end="12" align="center" border="none" ></text>
			<!-- <text col_start="11" col_end="12" align="center" border="none" >'Club  (CS.)'</text> -->
			<text col_start="13" col_end="21" align="center" border="none" ></text>
			<text col_start="22" col_end="23" align="right" border="none" >'Tps. Pat.'</text>
			<text col_start="24" col_end="26" align="right" border="none" >'Ecart. Pat.'</text>
			<row h="auto" />
			<text col_start="2" col_end="15" align="center"><background mode="solid" color="yellow" />'Patrouilleurs'</text>
			<row h="auto" />
			<text col_start="2" col_end="8" align="left">'Dos - Code   Identité'</text>
			<text col_start="9" col_end="10" align="left">'Categ.(S.)'</text>
			<text col_start="11" col_end="15" align="left">'Club  (CS.)'</text>
			<row h="0.4cm"/>
		</label>	
		
		<body>
			<call option="color_alternate" file="./edition/options.xml" />
			<call option="identite" file="./edition/options.xml"/>
			<font size="9" adjust="ellipsize"/>
			<spacing left="10" right="10" top="2" bottom="2" />
			<col w="1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1"/>
			<row h="0.6cm"/>
			<row h="0.1cm"/>
			<lua>for n=0,tonumber(NbEquipiers)-1 do</lua>
			<row h="0.5cm"/>
			<lua>end</lua>
			<lua>
				if $(Sexe) == 'F' then 		
					SexeEquipe = 'Féminine';
				elseif $(Sexe) == 'M' then 		
					SexeEquipe = 'Masculine';
				elseif $(Sexe) == 'T' then 		
					SexeEquipe = 'Mixte';
				end
			</lua>
			<text row_start="1" row_end="1" col_start="1" col_end="1" align="left" border="none" >$(Clt)</text>
			<text row_start="1" row_end="1" col_start="2" col_end="2" align="left" border="none" >$(Dossard)</text>
			<text row_start="1" row_end="1" col_start="3" col_end="8" align="left" border="none">$(Identite)</text> 
			<text row_start="1" row_end="1" col_start="9" col_end="10" align="left" border="" >SexeEquipe</text>
			<!-- <text row_start="1" row_end="1" col_start="11" col_end="12" align="center" label="CS." border="none" >$(Comite)</text> -->
			<text row_start="1" row_end="1" col_start="11" col_end="14" align="left" border="none" ></text>
			<!-- <text row_start="1" row_end="1" col_start="11" col_end="14" align="left" border="none" >$(Club).." "..$(Comite):Parenthesis()</text> -->
			<text row_start="1" row_end="1" col_start="15" col_end="21" align="center" border="" ></text>
			<text row_start="1" row_end="1" col_start="22" col_end="23" align="right" border="none" >$(Tps)</text>
			<text row_start="1" row_end="1" col_start="24" col_end="26" align="right" border="none" >$(Diff)</text>

			<text row_start="2" row_end="2" col_start="2" col_end="15" align="center"><background mode="solid" color="yellow" />''</text>
			<!-- <text row_start="2" row_end="2" col_start="4" col_end="14" align="center" border="none" >''</text> -->
			<lua>					
				for m=0, NbEquipiers-1 do
			</lua>
					<text row_start='(m+3)' col_start="2" col_end="8" align="left" label="('Identité Relayeur '..m+1)">$(Dossard)..'-'..base:GetEquipier($(Code_coureur), m+1, 'Numero')..' - '..base:GetEquipier($(Code_coureur), m+1, 'Nom')..' '..base:GetEquipier($(Code_coureur), m+1, 'Prenom'):sub(1,1):upper()..base:GetEquipier($(Code_coureur), m+1, 'Prenom'):sub(2):lower()..' '..base:GetEquipier($(Code_coureur), m+1, 'Sexe'):Parenthesis()</text>
					<text row_start='(m+3)' col_start="9" col_end="10"  align="left" label="('categ Relayeur '..m+1)">base:GetEquipier($(Code_coureur), m+1, 'Categ')..' '..base:GetEquipier($(Code_coureur), m+1, 'Sexe'):Parenthesis()</text>
					<text row_start='(m+3)' col_start="11" col_end="15" align="left" label="('club Relayeur '..m+1)">base:GetEquipier($(Code_coureur), m+1, 'Club')..' '..base:GetEquipier($(Code_coureur), m+1, 'Comite'):Parenthesis()</text>
					<!-- <text row_start='(m+3)' col_start="16" col_end="16" align="right" label="('Clt Rel'..m+1)" >body:GetCell('Clt'..code_manche..'_lap'..m+1,row)</text> -->
					<!-- <text row_start='(m+3)' col_start="17" col_end="19" align="right" label="('Tps Relayeur '..m+1)" >body:GetCell('Tps'..code_manche..'_lap'..m+1, row)</text> -->
					<!-- <text row_start='(m+3)' col_start="20" col_end="21" align="right" label="('Tps cumul')">body:GetCell('Tps_cumul'..code_manche..'_lap'..m+1, row, '[P10]%-1h%-1m%2s.%1f')</text> -->
			<lua>
				end
			</lua>
			<row h="0.5cm"/>
		</body>
		
		<end cond="tonumber(params.Officiel)==1">
			<lua>sqlBase.FixationTableRanking(body)</lua>
			<call option="signature_dt" file="./edition/options.xml" />
		</end>
	</report>
 
	<report id="res_relais_equipier" title="Résultats Relais" >

		<paper orientation="landscape" />
		<lua>nb_lap = base:GetRecord('Epreuve'):GetInt('Nb_participants');</lua>
		<lua>manche = manche or 1</lua>

		<order key="Tps, Dossard Desc" />
	
		<body>
			<call option="couleur_alternee" file="./edition/options.xml" />
			<font size="9" adjust="ellipsize"/>
	
			<row value="auto"/>
			<text col="4" align="right" label="Dos.">$(Clt)</text>
			<text col="4" align="right" label="Dos.">$(Dossard)</text>
			<text col="25" align="left" label="Equipe" font_weight="bold" font_size_step="1">$(Nom)</text> 
			<text col="8" align="center" label="Cat.">$(Categ)</text>
			
			<lua>for l=1,nb_lap do</lua>
				<text col="25" cond="group=='label'" label="('Tour'..l)"/>
				<matrix col="25" cond="group=='body'" fit_inside="0" >
					<row h="1"/>
					<font size_step="-1" />
					<text col="16" align="left" font_size_step="-2">base:GetEquipier($(Code_coureur), l, 'Nom')</text>
					<text col="7" align="right">body:GetCell('Tps'..manche..'_lap'..l, row)</text>
					<text col="4" align="right">body:GetCell('Clt'..manche..'_lap'..l,row)</text>
				</matrix> 
			<lua>end</lua>

			<text col="10" cond="group=='label'" label="Temps"/>
			<matrix col="10" cond="group=='body'" fit_inside="0" >
				<row h="1"/>
				<font size_step="1" weight="bold" />
				<text col="7" align="right">body:GetCell('Tps'..manche,row)</text>
				<text col="4" align="right">body:GetCell('Clt'..manche,row)</text>
			</matrix>
				
		</body>
	</report>

	<!-- Edition des X Qualifiés des équipes pour un team sprint Team-sprint-->
	<report id="res_qualif_TeamSprint" title="Team Sprint" first_header="0" >
		<column name="Status_equipe" type="text">' '</column>
		<column name="Type_qualif" type="text">' '</column>
		<lua>
			color_active = '';
			dofile('./edition/functionNordique.lua');
			qualif_critere = tonumber(params.qualif_critere)
			GetQualifie_TeamSprint(evt);
		</lua>		
		<order key="Clt, Tps, Dossard" />		
		<rupture key="Type_qualif">
			<before cond="1">
				<font size="14"/>
				<row value="0.4cm"/>
				<lua>
					local ruptureQualif = 'Suite des classements';
					if $(Type_qualif) == 'A' then ruptureQualif = 'Qualifiés Manche 1';
					elseif $(Type_qualif) == 'B' then ruptureQualif = 'Qualifiés Manche 2';
					elseif $(Type_qualif) == 'T' then ruptureQualif = 'Qualifiés Total des 2 Epreuves';
					end
				</lua>
				<text row="auto" col="1" >ruptureQualif</text>
			</before>
		</rupture>
		
		<label>
			<pen border="all" size="1" />
			<font size="9" adjust="ellipsize"/>
			<spacing left="10" right="10" top="2" bottom="2" />
			<row h="auto" />
			<text col="6" align="center" >'Clt'</text>
			<text col="4" align="center" >'Dos'</text>
			<text col="15" align="center" >'Nom - Equipe'</text>
			<text col="4" align="center" >'S.'</text>
			<text col="12" align="right" >'Tps | Clt Equipier 1'</text>
			<text col="12" align="right" >'Tps | Clt Equipier 2'</text>
			<text col="12" align="right" >'Tps | Clt Equipe'</text>
			<row h="0.4cm"/>
		</label>
		
		<body>
				<font name="Calibri" size="9" adjust="max" weight="bold" />
				<call option="couleur_alternee" file="./edition/options.xml"/>
				<pen border="none" size="1" />
				
				<row value="auto"/>
				<text col="6" align="center" label="Qualif." font_weight="bold" font_size_step="1"><font color="black" cond="($(Type_qualif):In('A', 'B', 'T'))"/><background color="(color_active)" mode="solid" cond="($(Type_qualif):In('A', 'B', 'T'))" />$(Clt)</text>
				<text col="4" align="right" label="Dos">$(Dossard)</text>
				<text col="15" align="left" label="Nom - Prénom" font_weight="bold" font_size_step="1">$(Identite)</text> 
				<text col="4" align="center" label="S." font_size_step="-1">$(Sexe)</text>
				
				<text col="8" align="right" label="Tps.M1">$(Tps1)</text>
				<text col="4" align="right" label="C.M1" font_weight="bold"><font color="black" cond="($(Type_qualif) == 'A')"/><background color="(color_active)" mode="solid" cond="($(Type_qualif) == 'A')"/>$(Clt1)</text>
				
				<text col="8" align="right" label="Tps.M2">$(Tps2)</text>
				<text col="4" align="right" label="C.M2" font_weight="bold"><font color="black" cond="($(Type_qualif) == 'B')"/><background color="(color_active)" mode="solid" cond="($(Type_qualif) == 'B')"/>$(Clt2)</text>
				
				<text col="8" align="right" label="Total">$(Tps)</text>
				<text col="4" align="right" label="C.T" font_weight="bold"><font color="black" cond="($(Type_qualif) == 'T')"/><background color="(color_active)" mode="solid" cond="($(Type_qualif) == 'T')"/>$(Status_equipe)</text>
		
				<line col_start="1" col_end="0" pen_size="4" border="bottom" cond="not _context_border"/>
		</body>
		<!-- <end> -->
			<!-- <lua>sqlBase.FixationTableRanking(body)</lua> -->
							<!-- if body:GetCell('Critere', i):sub(1,1) == "T" then  -->
					<!-- body:SetCell('Ordre_niveau', i, body:GetCell('Clt3', i)); -->
				<!-- end -->
		<!-- </end> -->
	</report>
	
	<report id="res_TeamSprint" title="Edition des Qualifiés" first_header="0" >
		<!-- color_active = 'rgb 0 0 110'; -->
		<!-- color_active = 'green'; -->
		<column name="Type_qualif" type="text">' '</column>
		<lua>
			color_active = '';
			dofile('./edition/functionNordique.lua');
			VerifNbManche();
			for i=0, body:GetNbRows()-1 do
				body:SetCell('Type_qualif', i, body:GetCell('Critere', i):sub(1,1));
			end
			body:SetRanking('Clt', 'Centre, Clt3 Asc NULL_OK, Ordre_niveau');
			NbEquipiers = base:GetRecord('Epreuve'):GetInt('Nb_participants');
			app.GetAuiMessage():AddLine("NbEquipiers="..NbEquipiers);
		</lua>
		<order key="Clt, Dossard" />
		<rupture key="Type_qualif">
			<before cond="1">
				<font size="14"/>
				<row value="0.4cm"/>
				<lua>
					local ruptureQualif = 'Suite des classements';
					if $(Type_qualif) == 'A' then ruptureQualif = 'Qualifiés Manche 1';
					elseif $(Type_qualif) == 'B' then ruptureQualif = 'Qualifiés Manche 2';
					elseif $(Type_qualif) == 'T' then ruptureQualif = 'Finale Team-Sprint';
					else
					ruptureQualif = 'Qualification'
					end
				</lua>
				<text row="auto" col="1" >ruptureQualif</text>
			</before>
		</rupture>
		
		<label>
			<font size="9" adjust="ellipsize"/>
			<spacing left="10" right="10" top="2" bottom="2" />
			<row h="auto" />
			<pen border="all" size="1" />
			<text col="6" align="center" >'Clt'</text>
			<text col="4" align="center" >'Dos'</text>
			<text col="17" align="center" >'Nom - Equipe'</text>
			<text col="4" align="center" >'S.'</text>
			<text col="12" align="right" >'Tps | Clt Qualif.1'</text>
			<text col="12" align="right" >'Tps | Clt Qualif.2'</text>
			<text col="12" align="right" >'Tps | Clt Finale'</text>
			<row h="0.4cm"/>
		</label>
		
		<body>
			<font name="Calibri" size="9" adjust="max" weight="bold" />
			<call option="couleur_alternee" file="./edition/options.xml"/>
			<pen border="none" size="1" />
			<row h="0.6cm"/>
			<lua>for n=0,tonumber(NbEquipiers)-1 do</lua>
			<row h="0.5cm"/>
			<lua>end</lua>
			<col w="6,4,17,4,8,4,8,4,8,4"/>
			<!-- <text col="6" align="center" label="Qualif." font_weight="bold" font_size_step="1"><font color="black" cond="($(Type_qualif) ~= '')"/><background color="rgb 210 0 1" mode="solid" cond="($(Type_qualif) ~= '')"/>$(Ordre_niveau)</text> -->
			<text row_start="1" row_end="1" col_start="1" col_end="1" align="right" label="Clt">$(Clt)</text>
			<text row_start="1" row_end="1" col_start="2" col_end="2" align="right" label="Dos">$(Dossard)</text>
			<text row_start="1" row_end="1" col_start="3" col_end="3" align="left" label="Nom - Prénom" font_weight="bold" font_size_step="1">$(Identite)</text> 
			<text row_start="1" row_end="1" col_start="4" col_end="4" align="center" label="Sexe" font_size_step="-1">$(Sexe)</text>
			<!-- <text col="20" align="center" label="Centre" font_size_step="-1">$(Centre)</text> -->
			<!-- <text col="20" align="center" label="Ordre_niveau" font_size_step="-1">$(Ordre_niveau)</text> -->
			<!-- <text col="20" align="center" label="Clt3" font_size_step="-1">$(Clt3)</text> -->
			<text row_start="1" row_end="1" col_start="5" col_end="5" align="right" label="Tps.Equipier.1">$(Tps1)</text>
			<text row_start="1" row_end="1" col_start="6" col_end="6" align="right" label="C.M1" font_weight="bold">$(Clt1)</text>
			
			<text row_start="1" row_end="1" col_start="7" col_end="7" align="right" label="Tps.Equipier">$(Tps2)</text>
			<text row_start="1" row_end="1" col_start="8" col_end="8" align="right" label="C.M2" font_weight="bold">$(Clt2)</text>
			
			<text row_start="1" row_end="1" col_start="9"  col_end="9"  align="right" label="Tps.Finale" font_weight="bold" ><font color="black" cond="($(Type_qualif) == 'T')"/><background color="(color_active)" mode="solid" cond="($(Type_qualif) == 'T')"/>$(Tps3)</text>
			<text row_start="1" row_end="1" col_start="10" col_end="10" align="right" label="C.M3"       font_weight="bold" ><font color="black" cond="($(Type_qualif) == 'T')"/><background color="(color_active)" mode="solid" cond="($(Type_qualif) == 'T')"/>$(Clt3)</text>
 
			<!-- <text col="6" align="right" label="Total">$(Tps)</text> -->
			<!-- <text col="4" align="right" label="C.T" font_weight="bold"><font color="black" cond="($(Type_qualif) == 'T')"/><background color="rgb 210 0 1" mode="solid" cond="($(Type_qualif) == 'T')"/>$(Clt)</text> -->
			
				<!-- <text row_start="1" row_end="1" col_start="4" col_end="14" align="center" border="none" >''</text> -->
				<lua>					
					for m=0, NbEquipiers-1 do
				</lua>
						<text row_start='(m+2)' col_start="3" col_end="3" align="left" >$(Dossard)..'-'..base:GetEquipier($(Code_coureur), m+1, 'Numero')..' - '..base:GetEquipier($(Code_coureur), m+1, 'Nom')..' '..base:GetEquipier($(Code_coureur), m+1, 'Prenom')..' '..base:GetEquipier($(Code_coureur), m+1, 'Sexe'):Parenthesis()</text>
						<text row_start='(m+2)' col_start="4" col_end="6" align="left" >base:GetEquipier($(Code_coureur), m+1, 'Club')..' '..base:GetEquipier($(Code_coureur), m+1, 'Comite'):Parenthesis()</text>
						<text row_start='(m+2)' col_start="7" col_end="8" align="right" ></text>
				<lua>
					end
				</lua>
	
	
			<line col_start="1" col_end="0" pen_size="4" border="bottom" cond="not _context_border"/>
		</body>
		<end>
			<lua>sqlBase.FixationTableRanking(body)</lua>
		</end>
	</report>
	
	<report id="H_dept_M2" title="(params.title or '')" header="1">
		<!-- header simplifier !-->
		<order key="Heure_depart2, Dossard, Identite" />
		<call option="identiteCoureur" file="./edition/options.xml"/>
		<first_header/>
		<body>
			<call option="color_alternate" file="./edition/options.xml" />
			<font size="9" adjust="ellipsize"/>
			<pen border="none" />
			<spacing left="5" right="10" top="2" bottom="2" />
			<row h="auto"/>
			<!-- <text col="0.5cm" font_size="6" align="center" label="Pb">$(Modif_manuel) </text> -->
			<!-- <text col="0.5cm" font_size="6" align="center" label="Rang2">$(Rang2) </text> -->
			<text col="4" align="right" label="Dos">$(Dossard) </text>
			<text col="7" align="center" label="Code"><font size="8" cond="group =='body'"/>$(Code_coureur):sub(4)</text>
			<text col="20" align="left" label="Nom - Prénom">GetIdentiteCoureur(officiel)</text> 
			<text col="4" align="center" label="An">$(An)</text>
			<text col="6" align="center" label="Categ">$(Categ)</text>
			<text col="4" align="center" label="S.">$(Sexe)</text>
			<text col="4" align="center" label="Dist.">$(Distance)</text>
			<text col="4" align="center" label="Nat" cond="entite == 'FIS'">$(Nation)</text>
			<text col="4" align="center" label="CS" >$(Comite)</text>
			<text col="12" align="left" label="Club" cond="entite == 'FFS'">$(Club)</text>
			<!-- <text col="6" align="right" label="Points" cond="entite == 'FFS'">$(Point)</text> -->
			<text col="9" align="right" label="H. Départ" cond="discipline:In('FS', 'POURS', 'KO-QLF', 'TEA-SP')">$(Heure_depart2, "%2hh%2m:%2s")</text>
			<line col_start="1" col_end="0" pen_size="4" border="bottom" cond="not _context_border"/>
		</body>	
	</report>
	
</edition>

